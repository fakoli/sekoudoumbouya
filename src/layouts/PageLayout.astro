---
/**
 * Main page layout with navigation and footer
 */
import BaseLayout from './BaseLayout.astro';
import Navigation from '../components/layout/Navigation.astro';
import MobileMenu from '../components/layout/MobileMenu.astro';
import Footer from '../components/layout/Footer.astro';
import { SITE_CONFIG } from '../config';
import { getBasePath, normalizePath } from '../utils/paths';

interface Props {
	title: string;
	description?: string;
}

const { title, description } = Astro.props;
const base = getBasePath();
const currentPath = normalizePath(Astro.url.pathname);
---

<BaseLayout title={title} description={description}>
	<header class="border-b border-[var(--border-default)] sticky top-0 z-50 bg-[var(--color-surface)]/95 backdrop-blur supports-[backdrop-filter]:bg-[var(--color-surface)]/80 relative">
		<nav class="container mx-auto px-4 py-4 flex items-center justify-between">
			<a href={`${base}/`} class="text-lg font-semibold text-foreground tracking-tight hover:text-accent transition-colors">
				{SITE_CONFIG.name}
			</a>

			<Navigation currentPath={currentPath}>
				<MobileMenu currentPath={currentPath} />
			</Navigation>
		</nav>
	</header>

	<main class="container mx-auto px-4 py-8 min-h-[60vh]">
		<slot />
	</main>

	<Footer />
</BaseLayout>
