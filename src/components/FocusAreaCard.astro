---
interface Props {
	title: string;
	summary: string;
	details: string[];
	metrics?: string;
	href?: string;
}

const { title, summary, details, metrics, href } = Astro.props;
const Tag = href ? 'a' : 'div';
---

<Tag
	{...(href ? { href } : {})}
	class:list={[
		"card p-6 flex flex-col h-full",
		{ "group": href }
	]}
>
	<div class="flex items-center gap-3 mb-4">
		<span class="w-10 h-10 rounded-md bg-[var(--color-accent-bg)] text-accent flex items-center justify-center text-lg">
			<slot name="icon">◆</slot>
		</span>
		<h3 class:list={[
			"heading-sm text-foreground",
			{ "group-hover:text-accent transition-colors": href }
		]}>
			{title}
		</h3>
	</div>

	<p class="body-sm text-secondary mb-4 leading-relaxed">
		{summary}
	</p>

	<ul class="space-y-2 mb-4 flex-1">
		{details.map(detail => (
			<li class="flex items-start text-muted">
				<span class="mr-2 text-accent mt-0.5 text-xs">●</span>
				<span class="body-sm">{detail}</span>
			</li>
		))}
	</ul>

	{metrics && (
		<div class="pt-4 border-t border-[var(--border-subtle)]">
			<p class="label mb-1">Success Metrics</p>
			<p class="body-sm text-muted">{metrics}</p>
		</div>
	)}

	{href && (
		<span class="link body-sm mt-4 inline-flex items-center gap-1">
			Learn more <span aria-hidden="true">→</span>
		</span>
	)}
</Tag>
